# GitHub Pages Deployment Plan for React App with Configurable Base Path

## Objective
Enable seamless deployment of the React app to both local and GitHub Pages environments without altering source code for each environment. Achieve this by introducing build-time variables (such as a base path) that can be configured per deployment target.

---

## Plan Outline

### 1. Problem Statement
- The React app works locally (root path) but needs a subdirectory base path (e.g., `/OpenDoorPH-website/`) for GitHub Pages.
- Hardcoding the base path or homepage in code or `package.json` causes issues for local development.
- We need a way to inject the base path at build time without changing source files for each environment.

### 2. Solution Approach
- Use environment variables to set the base path for the router and static assets.
- Configure the build process to accept a variable (e.g., `REACT_APP_BASENAME`) for the router's `basename` prop.
- Use the `homepage` field in `package.json` only for production builds, or override it at build time if needed.
- Document the process for both local and GitHub Pages deployments.

### 3. Implementation Steps
1. **Environment Variable Setup**
   - Define `REACT_APP_BASENAME` in `.env` files or via build scripts.
   - Example: `.env.local` for local, `.env.gh-pages` for GitHub Pages.
2. **Router Configuration**
   - Update the router to use `process.env.REACT_APP_BASENAME` for the `basename` prop.
   - Fallback to `/` if not set.
3. **Build Scripts**
   - Add npm scripts for local and GitHub Pages builds, setting the correct environment variable.
   - Example: `npm run build:gh-pages` sets `REACT_APP_BASENAME=/OpenDoorPH-website/`.
4. **Static Asset Paths**
   - Ensure all static asset references are relative or use the base path variable.
5. **Documentation**
   - Document the process in the repo for future maintainers.

### 4. Example Workflow
- **Local Development:**
  - `.env.local` contains `REACT_APP_BASENAME=/`
  - Run `npm start` as usual.
- **GitHub Pages Deployment:**
  - `.env.gh-pages` contains `REACT_APP_BASENAME=/OpenDoorPH-website/`
  - Run `npm run build:gh-pages` (custom script sets env and runs build)
  - Deploy `build/` to GitHub Pages as before.

### 5. Benefits
- No code changes required between environments.
- Easy to maintain and extend for other environments (e.g., staging, custom domains).
- Clear, documented process for all contributors.

---

## Next Steps
- Review and approve this plan.
- Implement environment variable support and build scripts as described.
- Test both local and GitHub Pages deployments.
- Update documentation as needed.

---

*Generated by GitHub Copilot on August 7, 2025.*
